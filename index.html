<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>House Finder</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-6 text-center">üè° House Finder</h1>

        <!-- Search Form -->
        <div class="flex gap-2 mb-6">
            <input id="location" type="text" placeholder="Location" class="flex-1 p-2 rounded border">
            <input id="minPrice" type="number" placeholder="Min Price" class="w-32 p-2 rounded border">
            <input id="maxPrice" type="number" placeholder="Max Price" class="w-32 p-2 rounded border">
            <button onclick="searchHouses()" class="bg-blue-500 text-white px-4 py-2 rounded">Search</button>
        </div>

        <!-- Results -->
        <div id="results" class="grid gap-4"></div>
    </div>

    <script>
        // Dummy houses (normally from web scraping or API)
        const allHouses = [
            { id: 1, title: "Cozy Apartment in Vienna", price: 300000, location: "Vienna", size: 80 },
            { id: 2, title: "Luxury Villa in Graz", price: 750000, location: "Graz", size: 200 },
            { id: 3, title: "Modern Flat in Linz", price: 450000, location: "Linz", size: 100 },
            { id: 4, title: "Charming House in Salzburg", price: 550000, location: "Salzburg", size: 150 }
        ];

        function searchHouses() {
            const location = document.getElementById('location').value.toLowerCase();
            const minPrice = parseInt(document.getElementById('minPrice').value) || 0;
            const maxPrice = parseInt(document.getElementById('maxPrice').value) || Infinity;

            // Filter houses based on search
            const filtered = allHouses.filter(house => 
                house.location.toLowerCase().includes(location) &&
                house.price >= minPrice &&
                house.price <= maxPrice
            );

            // Load stored houses
            const storedHouses = JSON.parse(localStorage.getItem('storedHouses') || '[]');

            // Prepare results
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '';

            filtered.forEach(house => {
                const isKnown = storedHouses.some(stored => stored.id === house.id);

                const card = document.createElement('div');
                card.className = `p-4 rounded shadow bg-white flex justify-between items-center ${
                    isKnown ? 'border-green-400 border-2' : 'border-blue-400 border-2'
                }`;

                card.innerHTML = `
                    <div>
                        <h2 class="text-xl font-bold">${house.title}</h2>
                        <p>Location: ${house.location}</p>
                        <p>Price: ‚Ç¨${house.price.toLocaleString()}</p>
                        <p>Size: ${house.size} m¬≤</p>
                    </div>
                    <div class="text-right">
                        <span class="px-2 py-1 rounded ${
                            isKnown ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700'
                        }">
                            ${isKnown ? '‚úÖ Already known' : 'üÜï New'}
                        </span>
                    </div>
                `;

                resultsDiv.appendChild(card);

                // Save new houses
                if (!isKnown) {
                    storedHouses.push(house);
                }
            });

            // Update localStorage
            localStorage.setItem('storedHouses', JSON.stringify(storedHouses));
        }
    </script>
</body>
</html>
